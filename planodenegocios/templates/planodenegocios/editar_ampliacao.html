{% extends "base.html" %}
{% load static %}

{% block conteudo %}
<div class="container my-5" style="max-width: 700px;">
    <div class="card shadow border-0 rounded-4">
        <div class="card-body p-5">

            <h2 class="card-title text-center mb-5 fw-bold text-primary">Editar Ampliação</h2>

            <form method="POST" action="" novalidate>
                {% csrf_token %}

                <div class="mb-4">
                    <label for="data_ampliacao" class="form-label fw-semibold">Data</label>
                    <input type="date" id="data_ampliacao" name="data_ampliacao" 
                           class="form-control form-control-lg border-primary" 
                           value="{{ ampliacao.data|date:'Y-m-d' }}" required autofocus>
                </div>

                <div class="mb-4">
                    <label for="descricao_ampliacao" class="form-label fw-semibold">Descrição</label>
                    <input type="text" id="descricao_ampliacao" name="descricao_ampliacao" 
                           class="form-control form-control-lg border-primary" 
                           placeholder="Descreva a ampliação" 
                           value="{{ ampliacao.descricao }}" required>
                </div>

                <div class="row g-4">
                    <div class="col-md-6">
                        <label for="quantidade_ampliacao" class="form-label fw-semibold">Quantidade</label>
                        <input type="number" id="quantidade_ampliacao" name="quantidade_ampliacao" 
                               class="form-control form-control-lg border-primary" 
                               min="0" value="{{ ampliacao.quantidade|default_if_none:'0' }}" required>
                    </div>
                <div class="col-md-6">
                    <label for="quantidade_ampliacao" class="form-label fw-semibold">Quantidade</label>
                    <input type="number" id="quantidade_ampliacao" name="quantidade_ampliacao" 
                        class="form-control form-control-lg border-primary" 
                        min="0" value="{{ quantidade_int }}" required>
                </div>

                <div class="col-md-6">
                    <label for="valor_unitario_ampliacao" class="form-label fw-semibold">Valor Unitário (R$)</label>
                    <input type="number" id="valor_unitario_ampliacao" name="valor_unitario_ampliacao" 
                        class="form-control form-control-lg border-primary" 
                        step="0.01" min="0" value="{{ valor_unitario_str }}" required>
                </div>

                <div class="col-md-6">
                    <label for="depreciacao_ampliacao" class="form-label fw-semibold">Depreciação (%)</label>
                    <input type="number" id="depreciacao_ampliacao" name="depreciacao_ampliacao" 
                        class="form-control form-control-lg border-primary" 
                        step="0.01" min="0" value="{{ depreciacao_str }}" required>
                </div>

                <div class="col-md-6">
                    <label for="credito_ampliacao" class="form-label fw-semibold">Crédito (%)</label>
                    <input type="number" id="credito_ampliacao" name="credito_ampliacao" 
                        class="form-control form-control-lg border-primary" 
                        step="0.01" min="0" value="{{ credito_str }}" required>
                </div>

                <div class="mt-5 d-flex justify-content-center gap-3">
                    <button type="submit" class="btn btn-lg btn-primary d-flex align-items-center px-4 gap-2">
                        <i class="bi bi-check2-circle fs-4"></i> Salvar Alterações
                    </button>
                    <a href="{% url 'investimento' %}" class="btn btn-lg btn-outline-secondary d-flex align-items-center px-4 gap-2">
                        <i class="bi bi-x-circle fs-4"></i> Cancelar
                    </a>
                </div>

            </form>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/sidebar.js' %}"></script>
{% endblock extra_js %}
